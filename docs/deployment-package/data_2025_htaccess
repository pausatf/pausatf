# Cache Control for Race Results Directory
# Location: /var/www/legacy/public_html/data/2025/.htaccess
# Purpose: Ensure HTML race results are NEVER served stale

<IfModule mod_headers.c>
    # HTML files - AGGRESSIVE no-cache
    <FilesMatch "\.(html|htm)$">
        Header set Cache-Control "no-cache, no-store, must-revalidate, max-age=0"
        Header set Pragma "no-cache"
        Header set Expires "0"
        Header set CF-Cache-Control "no-cache"
    </FilesMatch>
    
    # Static assets - 30 days (per Jeff's recommendation)
    <FilesMatch "\.(jpg|jpeg|png|gif|ico|svg|webp)$">
        Header set Cache-Control "public, max-age=2592000, immutable"
    </FilesMatch>
    
    <FilesMatch "\.(css|js)$">
        Header set Cache-Control "public, max-age=2592000, immutable"
    </FilesMatch>
</IfModule>

Options -Indexes

<FilesMatch "^(\.htaccess|\.htpasswd|\.git)">
    Require all denied
</FilesMatch>
