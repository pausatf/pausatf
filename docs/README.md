# PAUSATF.org Infrastructure Documentation

**Comprehensive technical documentation and collaboration hub for pausatf.org infrastructure**

[![GitHub](https://img.shields.io/badge/GitHub-pausatf-blue)](https://github.com/pausatf)
[![Discussions](https://img.shields.io/badge/Discussions-Q&A-green)](https://github.com/pausatf/pausatf-infrastructure-docs/discussions)
[![Wiki](https://img.shields.io/badge/Wiki-Quick%20Reference-orange)](https://github.com/pausatf/pausatf-infrastructure-docs/wiki)
[![Issues](https://img.shields.io/badge/Issues-Track%20Work-red)](https://github.com/pausatf/pausatf-infrastructure-docs/issues)
[![Projects](https://img.shields.io/badge/Projects-Roadmap-purple)](https://github.com/orgs/pausatf/projects)

---

## ğŸš€ Quick Navigation

| I want to... | Go here... | Skill Level |
|--------------|------------|-------------|
| **Ask a question** | [ğŸ’¬ Discussions (Q&A)](https://github.com/pausatf/pausatf-infrastructure-docs/discussions) | ğŸŸ¢ Beginner |
| **Find quick commands** | [ğŸ“š Wiki (Quick Reference)](https://github.com/pausatf/pausatf-infrastructure-docs/wiki) | ğŸŸ¢ Beginner |
| **Report a bug** | [ğŸ› Issues (Bug Report)](https://github.com/pausatf/pausatf-infrastructure-docs/issues/new?template=bug_report.yml) | ğŸŸ¢ Beginner |
| **Request infrastructure change** | [ğŸ—ï¸ Issues (Change Request)](https://github.com/pausatf/pausatf-infrastructure-docs/issues/new?template=infrastructure_change.yml) | ğŸŸ¡ Intermediate |
| **See what's being worked on** | [ğŸ“‹ Projects (Roadmap)](https://github.com/orgs/pausatf/projects) | ğŸŸ¡ Intermediate |
| **Read technical documentation** | [ğŸ“– Documentation](#documentation-index) | ğŸŸ¡ Intermediate |
| **Contribute to documentation** | [âœï¸ Contributing Guide](governance/CONTRIBUTING.md) | ğŸ”´ Advanced |
| **Learn the workflow** | [ğŸ¯ Quick Start Guide](governance/GITHUB-WORKFLOW-QUICKSTART.md) | ğŸŸ¢ Beginner |

---

## ğŸ“¢ For New Users - Start Here!

**First Time Here?**
1. âœ… Read the [Executive Summary](EXECUTIVE-SUMMARY.md) (non-technical overview)
2. âœ… Check out the [Getting Started Guide](getting-started/GETTING_STARTED.md)
3. âœ… Explore the [Wiki (Quick Reference)](https://github.com/pausatf/pausatf-infrastructure-docs/wiki)
4. âœ… Learn the [GitHub Workflow](governance/GITHUB-WORKFLOW-QUICKSTART.md)

**Want to Contribute?**
1. âœ… Read [How to Contribute](governance/CONTRIBUTING.md)
2. âœ… Join the [Discussions](https://github.com/pausatf/pausatf-infrastructure-docs/discussions)
3. âœ… Check the [Projects Board](https://github.com/orgs/pausatf/projects) for open work

---

## ğŸ—‚ï¸ Documentation Index

### ğŸ“– Guides & How-Tos

**Step-by-step guides for infrastructure operations:**

| Guide | Description | Last Updated |
|-------|-------------|--------------|
| [01 - Cache Implementation](docs/guides/01-cache-implementation-guide.md) | Complete cache fix implementation and technical details | Dec 20, 2025 |
| [05 - Server Migration](docs/guides/05-server-migration-guide.md) | Complete 10-phase DigitalOcean migration process | Dec 20, 2025 |
| [06 - Cloudflare Configuration](docs/guides/06-cloudflare-configuration-guide.md) | DNS, SSL, caching, firewall, API automation | Dec 20, 2025 |
| [09 - Google Workspace Email](docs/guides/09-google-workspace-email-security.md) | SPF, DKIM, DMARC email security setup | Dec 20, 2025 |
| [10 - Operational Procedures](docs/guides/10-operational-procedures.md) | Day-to-day operations, updates, backups, emergencies | Dec 21, 2025 |
| [11 - Database Maintenance](docs/guides/11-database-maintenance.md) | Database procedures, primary keys, troubleshooting | Dec 21, 2025 |
| [13 - DigitalOcean Optimization](docs/guides/13-digitalocean-optimization-guide.md) | Infrastructure improvements, security, monitoring, DR | Dec 21, 2025 |

### ğŸ“Š Reports & Audits

**Historical audits, assessments, and implementation summaries:**

| Report | Description | Date |
|--------|-------------|------|
| [02 - Cache Audit](docs/reports/02-cache-audit-report.md) | Pre-fix audit of cache configurations | Dec 20, 2025 |
| [03 - Cache Verification](docs/reports/03-cache-verification-report.md) | Production deployment verification | Dec 20, 2025 |
| [04 - Security Audit](docs/reports/04-security-audit-report.md) | WordPress theme security assessment (9 findings) | Dec 20, 2025 |
| [07 - Performance Optimization](docs/reports/07-performance-optimization-complete.md) | **Complete WordPress optimization (93% faster)** | Dec 20, 2025 |
| [12 - Server Rightsizing](docs/reports/12-server-rightsizing-analysis.md) | Resource optimization and cost analysis | Dec 21, 2025 |
| [14 - WordPress Security Audit](docs/reports/14-wordpress-security-audit-2025.md) | **WordPress security audit and remediation** | Dec 21, 2025 |
| [15 - Theme Repository Workflows](docs/reports/15-theme-repository-github-workflows.md) | **GitHub workflows for WordPress theme repos** | Dec 21, 2025 |
| [Phase 1 Implementation](docs/reports/PHASE1-IMPLEMENTATION-REPORT.md) | Phase 1 security improvements summary | Dec 21, 2025 |
| [IaC Updates](docs/reports/INFRASTRUCTURE-AS-CODE-UPDATES.md) | Terraform/Ansible configurations | Dec 21, 2025 |

### ğŸ—ºï¸ Planning & Roadmaps

**Future roadmaps and strategic planning:**

| Document | Description |
|----------|-------------|
| [08 - Upgrade Roadmap](docs/planning/08-recommended-upgrades-roadmap.md) | PHP 8.3, Ubuntu 24.04, security hardening |

### ğŸ“ Procedures

**Specific step-by-step procedures:**

| Procedure | Description |
|-----------|-------------|
| [Theme Dropdown Fix](docs/procedures/THEME-DROPDOWN-FIX.md) | WordPress theme dropdown menu background color fix |

### ğŸ“š Runbooks

**Operational runbooks for common tasks:**

| Runbook | Description |
|---------|-------------|
| [Deployment](docs/runbooks/deployment.md) | Deployment procedures |
| [Disaster Recovery](docs/runbooks/disaster-recovery.md) | Disaster recovery procedures |

---

## ğŸ› ï¸ GitHub Collaboration Features

### ğŸ’¬ GitHub Discussions

**Ask questions, share ideas, brainstorm solutions**

**Categories:**
- **ğŸ“¢ Announcements** - Infrastructure updates and news
- **ğŸ’¡ Ideas** - Propose features and improvements
- **ğŸ™ Q&A** - Ask questions, get answers
- **ğŸ—ï¸ Infrastructure** - Discuss infrastructure changes
- **ğŸ“š Documentation** - Documentation improvements
- **ğŸ’¬ General** - Everything else

**Get Started:**
[Start a Discussion â†’](https://github.com/pausatf/pausatf-infrastructure-docs/discussions)

**Popular Discussions:**
- Coming soon...

### ğŸ“š GitHub Wiki

**Quick reference guides and troubleshooting**

**Wiki Pages:**
- Common Commands Cheat Sheet
- SSH Connection Quick Start
- Server Quick Reference
- Cloudflare Cache Purge Guide
- Troubleshooting Common Issues
- FAQ
- Glossary

**Get Started:**
[Browse the Wiki â†’](https://github.com/pausatf/pausatf-infrastructure-docs/wiki)

**Note:** Wiki is for quick reference. For detailed technical docs, see [Documentation Index](#documentation-index).

### ğŸ› GitHub Issues

**Track bugs, feature requests, and work items**

**Issue Templates:**
- [ğŸ› Bug Report](https://github.com/pausatf/pausatf-infrastructure-docs/issues/new?template=bug_report.yml) - Report broken functionality
- [ğŸ—ï¸ Infrastructure Change](https://github.com/pausatf/pausatf-infrastructure-docs/issues/new?template=infrastructure_change.yml) - Request infrastructure modifications
- [ğŸ“ Documentation Update](https://github.com/pausatf/pausatf-infrastructure-docs/issues/new?template=documentation.yml) - Report doc issues

**Get Started:**
[View Open Issues â†’](https://github.com/pausatf/pausatf-infrastructure-docs/issues)

**Recently Closed:**
- Coming soon...

### ğŸ“‹ GitHub Projects

**Visual work tracking and roadmap planning**

**Active Projects:**

**1. Infrastructure Roadmap** (Organization-level)
- Track major initiatives across all 4 repos
- Quarterly planning and milestones
- Cross-repository coordination

[View Infrastructure Roadmap â†’](https://github.com/orgs/pausatf/projects)

**2. Documentation Maintenance**
- Track documentation review schedule
- Document update requests
- Content improvement backlog

**Get Started:**
[Browse All Projects â†’](https://github.com/orgs/pausatf/projects)

---

## ğŸ›ï¸ Repository Governance

**How we work, contribute, and maintain quality:**

| Document | Description |
|----------|-------------|
| [Contributing Guide](governance/CONTRIBUTING.md) | How to contribute to this repository |
| [Commit Standards](governance/COMMIT-STANDARDS.md) | Conventional commit message standards |
| [Testing Procedures](governance/TESTING.md) | How we test documentation and automation |
| [Automation Guide](governance/AUTOMATION.md) | Automation tools and scripts |
| [GitHub Actions](governance/GITHUB-ACTIONS.md) | CI/CD workflows documentation |
| [GitHub Workflow Strategy](governance/GITHUB-WORKFLOW-STRATEGY.md) | **Comprehensive workflow and collaboration strategy** |
| [GitHub Workflow Quick Start](governance/GITHUB-WORKFLOW-QUICKSTART.md) | **Quick guide to using GitHub features** |
| [Documentation Refactor Plan](governance/DOCUMENTATION-REFACTOR-PLAN.md) | **Documentation reorganization plan** |

---

## ğŸ–¥ï¸ Server Environment

### Production Server

- **Hostname:** prod.pausatf.org
- **IP Address:** 64.225.40.54
- **Droplet:** pausatf-prod (DigitalOcean ID: 355909945)
- **Size:** 8GB RAM / 4 vCPUs / 160GB SSD ($57.60/month with backups)
- **Web Server:** Apache 2.4.41
- **PHP:** 7.4.33
- **WordPress:** 6.9
- **Document Root:** /var/www/legacy/public_html/
- **Backups:** âœ… Daily automated backups enabled
- **SSH Access:** `ssh root@prod.pausatf.org`
- **Resource Usage:** 1.6 GB RAM / 39 GB disk (20% RAM, 26% disk utilization)

### Staging Server

- **Hostname:** stage.pausatf.org
- **IP Address:** 64.227.85.73
- **Droplet:** pausatf-stage (DigitalOcean ID: 538411208)
- **Size:** 4GB RAM / 2 vCPUs / 80GB SSD ($28.80/month with backups)
- **Web Server:** OpenLiteSpeed 1.8.3
- **PHP:** 8.4.15
- **WordPress:** 6.9
- **Document Root:** /var/www/html/
- **Backups:** âœ… Daily automated backups enabled
- **SSH Access:** `ssh root@stage.pausatf.org`
- **Resource Usage:** 671 MB RAM / 26 GB disk (16% RAM, 33% disk utilization)

### Cloudflare Configuration

- **Zone ID:** 67b87131144a68ad5ed43ebfd4e6d811
- **API Token:** (stored in GitHub secrets for CI/CD)
- **Plan:** Free
- **Cache Purge Script:** `/usr/local/bin/purge_cloudflare_cache.sh`

---

## âœ… Current Status & Recent Updates

### WordPress Security Audit (Dec 21, 2025)
- âœ… Comprehensive backup created: 13.5 GB (database + files + legacy)
- âœ… wp-config.php permissions secured: 644 â†’ 640
- âœ… 3 unexpected files removed from WordPress core
- âœ… Test user account deleted
- âœ… Administrator accounts documented (11 admins - needs review)
- âœ… Auto-updates enabled for all plugins
- âœ… Database integrity verified (133 tables)
- âœ… File security audit completed
- ğŸ“– [Full Report](docs/reports/14-wordpress-security-audit-2025.md)

### GitHub Workflow Enabled (Dec 21, 2025)
- âœ… GitHub Wiki enabled for quick reference
- âœ… GitHub Discussions enabled for Q&A and collaboration
- âœ… Issue templates created (Bug, Infrastructure, Documentation)
- âœ… Pull request template created
- âœ… Documentation reorganized into logical structure
- âœ… Quick start guide created for team
- ğŸ“– [Workflow Strategy](governance/GITHUB-WORKFLOW-STRATEGY.md)

### WordPress Theme Repositories with CI/CD (Dec 21, 2025)
- âœ… Parent theme (TheSource v4.8.13) version controlled
- âœ… Child theme (PAUSATF customizations) version controlled
- âœ… Automated PHP linting workflows (syntax, PHPCS, compatibility)
- âœ… Automated CSS linting workflows (StyleLint, W3C, complexity)
- âœ… Issue templates for bug reports and feature requests
- âœ… Pull request templates with comprehensive checklists
- âœ… CONTRIBUTING.md guides for WordPress development
- ğŸ“– [Theme Workflow Report](docs/reports/15-theme-repository-github-workflows.md)

### Performance Optimization (Dec 20, 2025)
- âœ… Response time reduced from 1,357ms to ~220ms (6x faster)
- âœ… WP Super Cache 3.0.3 installed and configured
- âœ… **Autoloaded options: 4.54 MB â†’ 298 KB (93% reduction)**
- âœ… **Admin performance: 1,490ms â†’ 232ms (84% faster)**
- âœ… All WordPress Site Health critical issues resolved
- ğŸ“– [Full Report](docs/reports/07-performance-optimization-complete.md)

### Server Right-Sizing & Backups (Dec 21, 2025)
- âœ… Daily automated backups enabled on both servers
- âœ… Disk cleanup: freed 54 GB total (32 GB prod, 22 GB staging)
- âœ… Resource usage analysis: both servers over-provisioned
- âœ… Cost optimization: $460.80/year savings potential identified
- ğŸ“– [Analysis Report](docs/reports/12-server-rightsizing-analysis.md)

### CI/CD and Automation (Dec 21, 2025)
- âœ… GitHub Actions workflows configured
- âœ… Daily infrastructure health monitoring
- âœ… Automated documentation validation
- âœ… Secret scanning and prevention
- ğŸ“– [GitHub Actions Guide](governance/GITHUB-ACTIONS.md)

---

## ğŸ¯ Quick Operations

### Common Tasks

**Test Cache Headers:**
```bash
# HTML file (should show no-cache)
curl -I https://www.pausatf.org/data/2025/RR5KH2025.html | grep -i cache

# Static asset (should show 30-day cache)
curl -I https://www.pausatf.org/data/2025/sf-rec-park.jpg | grep -i cache
```

**Purge Cloudflare Cache:**
```bash
# On production server - all files
ssh root@prod.pausatf.org "/usr/local/bin/purge_cloudflare_cache.sh all"

# Specific file
ssh root@prod.pausatf.org "/usr/local/bin/purge_cloudflare_cache.sh 2025/filename.html"
```

**WordPress Health Check:**
```bash
# List themes
wp theme list --path=/var/www/html/ --allow-root

# List plugins
wp plugin list --path=/var/www/html/ --allow-root

# Check for updates
wp core check-update --path=/var/www/html/ --allow-root
```

ğŸ’¡ **For more commands, see the [Wiki: Common Commands](https://github.com/pausatf/pausatf-infrastructure-docs/wiki)**

---

## ğŸ› Troubleshooting

**Quick Troubleshooting:**
- ğŸ“š [Wiki: Troubleshooting Guide](https://github.com/pausatf/pausatf-infrastructure-docs/wiki/Troubleshooting)
- ğŸ’¬ [Ask in Discussions](https://github.com/pausatf/pausatf-infrastructure-docs/discussions)
- ğŸ› [Report an Issue](https://github.com/pausatf/pausatf-infrastructure-docs/issues/new?template=bug_report.yml)

**Common Issues:**
- Cache not working â†’ See [Cache Guide](docs/guides/01-cache-implementation-guide.md)
- SSH connection issues â†’ See [Server Migration Guide](docs/guides/05-server-migration-guide.md#troubleshooting)
- WordPress issues â†’ See [Operational Procedures](docs/guides/10-operational-procedures.md)

---

## ğŸŒ Infrastructure as Code Ecosystem

This documentation repository is part of a complete IaC ecosystem:

| Repository | Purpose | Technologies |
|------------|---------|--------------|
| **[pausatf-infrastructure-docs](https://github.com/pausatf/pausatf-infrastructure-docs)** | **Documentation, guides, and procedures** | Markdown, GitHub Wiki |
| [pausatf-terraform](https://github.com/pausatf/pausatf-terraform) | Infrastructure provisioning | Terraform, DigitalOcean, Cloudflare |
| [pausatf-ansible](https://github.com/pausatf/pausatf-ansible) | Configuration management | Ansible, WordPress, Apache, MySQL |
| [pausatf-scripts](https://github.com/pausatf/pausatf-scripts) | Automation and operations | Bash, Python |
| [pausatf-theme-thesource](https://github.com/pausatf/pausatf-theme-thesource) | WordPress parent theme (TheSource v4.8.13) | PHP, CSS, WordPress |
| [pausatf-theme-thesource-child](https://github.com/pausatf/pausatf-theme-thesource-child) | WordPress child theme (PAUSATF customizations) | PHP, CSS, WordPress |
| [pausatf-legacy-content](https://github.com/pausatf/pausatf-legacy-content) | Legacy static content archive (2000-2025) | HTML, PHP, CSS, Historical data |

**All repositories include:**
- âœ… Pre-commit hooks for security (shellcheck, ansible-lint, terraform fmt/validate)
- âœ… Dependabot for dependency updates
- âœ… GitHub Actions for CI/CD
- âœ… Secret detection and prevention
- âœ… Required GPG signed commits on main branch
- âœ… Comprehensive documentation and CHANGELOGs

**Theme repositories additionally include:**
- âœ… Issue templates for bug reports and feature requests
- âœ… Pull request templates with comprehensive testing checklists
- âœ… Automated PHP linting (syntax, PHPCS, compatibility)
- âœ… Automated CSS linting (StyleLint, W3C validation, complexity checks)
- âœ… CONTRIBUTING.md with WordPress development guidelines

---

## ğŸ“– Additional Resources

### Official Documentation
- **DigitalOcean:** https://docs.digitalocean.com/
- **Cloudflare:** https://developers.cloudflare.com/
- **WordPress:** https://wordpress.org/documentation/
- **Apache:** https://httpd.apache.org/docs/2.4/

### PAUSATF Resources
- **Website:** https://www.pausatf.org
- **Staging Site:** https://stage.pausatf.org
- **Cloudflare Dashboard:** https://dash.cloudflare.com/
- **DigitalOcean Console:** https://cloud.digitalocean.com/

---

## ğŸ“ Changelog

See [CHANGELOG.md](CHANGELOG.md) for all infrastructure changes.

**Recent Changes:**
- Dec 21, 2025: WordPress security audit and remediation
- Dec 21, 2025: GitHub workflow features enabled (Wiki, Discussions, Projects)
- Dec 21, 2025: Documentation reorganized into logical structure
- Dec 21, 2025: Database maintenance and primary keys
- Dec 20, 2025: Performance optimization (93% faster)

---

## ğŸ¤ Contributing

We welcome contributions from the PAUSATF community!

**Ways to Contribute:**
- ğŸ’¬ **Ask/Answer Questions** in [Discussions](https://github.com/pausatf/pausatf-infrastructure-docs/discussions)
- ğŸ“š **Improve Wiki Pages** (no Git required!)
- ğŸ› **Report Bugs** via [Issues](https://github.com/pausatf/pausatf-infrastructure-docs/issues)
- ğŸ“ **Update Documentation** via Pull Requests
- ğŸ’¡ **Propose Ideas** in [Discussions](https://github.com/pausatf/pausatf-infrastructure-docs/discussions)

**Getting Started:**
1. Read the [Contributing Guide](governance/CONTRIBUTING.md)
2. Check the [GitHub Workflow Quick Start](governance/GITHUB-WORKFLOW-QUICKSTART.md)
3. Browse [Open Issues](https://github.com/pausatf/pausatf-infrastructure-docs/issues) or [Discussions](https://github.com/pausatf/pausatf-infrastructure-docs/discussions)

---

## ğŸ“ Contact & Support

**For Infrastructure Questions:**
- ğŸ’¬ [Start a Discussion](https://github.com/pausatf/pausatf-infrastructure-docs/discussions)
- ğŸ› [Open an Issue](https://github.com/pausatf/pausatf-infrastructure-docs/issues)
- ğŸ“š [Check the Wiki](https://github.com/pausatf/pausatf-infrastructure-docs/wiki)

**For PAUSATF Organization:**
- ğŸŒ **Website:** https://www.pausatf.org
- ğŸ“§ **Email:** (see website contact page)

---

## ğŸ“„ License

Internal documentation for pausatf.org infrastructure. Not for public distribution.

**Maintained by:** Thomas Vincent
**Organization:** Pacific Association of USA Track and Field (PAUSATF)
**Last Updated:** December 21, 2025

---

**ğŸš€ Ready to get started? Check out the [Quick Start Guide](governance/GITHUB-WORKFLOW-QUICKSTART.md)!**
