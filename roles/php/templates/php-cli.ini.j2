; PHP CLI Configuration
; Managed by Ansible - Do not edit manually

[PHP]
engine = On
short_open_tag = Off
precision = 14
output_buffering = Off
implicit_flush = Off
serialize_precision = -1
zend.enable_gc = On

; Resource Limits (higher for CLI)
max_execution_time = 0
max_input_time = -1
memory_limit = -1

; Error handling
error_reporting = E_ALL & ~E_DEPRECATED & ~E_STRICT
display_errors = On
display_startup_errors = On
log_errors = On
error_log = /var/log/php_cli_errors.log

; Data handling
variables_order = "GPCS"
request_order = "GP"
register_argc_argv = On
auto_globals_jit = On
post_max_size = {{ php_post_max_size }}

; File uploads
file_uploads = On
upload_max_filesize = {{ php_upload_max_filesize }}
max_file_uploads = 20

; Fopen wrappers
allow_url_fopen = On
allow_url_include = Off

[Date]
date.timezone = {{ php_date_timezone }}

[Pdo_mysql]
pdo_mysql.default_socket = {{ mysql_socket | default('/var/run/mysqld/mysqld.sock') }}

[Session]
session.save_handler = files
session.save_path = "/var/lib/php/sessions"
